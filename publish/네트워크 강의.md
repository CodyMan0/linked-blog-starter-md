# 사전 지식
- bit와 byte 등 정보 표현의 단위를 알고 있다 
-> [[bit and byte]]
 
- bit단위 논리연산을 할 수 있다. 
- 2진수를 16진수로 변환할 수 있다.
- 1024MB가 1GB임을 알 수 있다.
-> 2의 32제곱은 42억 9천만 바이트인데 이것은 1GB이다.
- Mask 연산은 뭐지? 
- 프로세스와 프로그램의 차이를 알고 있다. 
- OSI 7 layer라는 말을 알고 있다. 
- 범용 운영체제는 user mode와 kernel mode가 존재한다는 것을 알고 있다. 
-> [[UserMode]] , [[KernelMode]] , [[Hardware Moc]] 
소프웨어에는 application와 system(OS))으로 분류가 된다. application 계층을 userMode라 하고 OS 계층을 kernel mode 그리고 hardware 부분이라 부른다. 
- Buffer의 의미를 알고 있다. 
- 개념과 구현의 차이를 안다
 ![[스크린샷 2023-04-20 오후 5.21.25.png|300]]
 -> 연예인이라는 것은 개념이고 실제적 사례가 박은빈! 이런 관계를 상속관계라고 부른다. 
 [[Class]]의 개념과 비슷하다. 

- **나는 외워서라도 네트워크를 잘 알고 싶다.**

# layer와 layered 구조 

**IT에서의 시스템 설계란** 
시스템(목표)을 이루는 **요소**가 무엇인지 정의하고 그 요소간에 **관계를** 정리하는것.

4
3
2
1

==암기)== 시스템 설계도가 layered 구조로 나왔다는 것은 해당 요소들의 존립이 의존적이다. 
3은 4의 전제조건이다. 



-> OSI 7계층에 대한 이해를 돕기 위해 상위 개념을 알려주신 것. 
-> layered 구조에서는 아래의 요소가 전제가 되어야 위의 요소의 존립이 의존적이다.




# 네트워크와 네트워킹 그리고 개념 
네트워크이란 관계 
네트워킹은 상호작용

네트워킹을 하기 위해서 
1. 언어가 맞아야한다. 
2. 물리적 거리 
3. 공기중 , 2m이내
-> layered 패턴이 보인다. 층이 졌고 아랫층이 윗층의 전제조건! 
-> 이렇게 해서 네트워킹이 이루어진다.

## 쉽게 OSI 7계층
- 네트워크는 관계에 대한 이야기 네트워킹은 상호작용. 결국 계층 별로 어떤 규칙이 있는데 규칙보다 프로토콜이란 이름으로 만들어놓은 것이다. 
- OSI 계층은 명백하게 개념과 관련된 것이다. 그래서 어렵다. 
- **TCP/IP 네트워크**는 구현에 해당한다. 그래서 TCP/IP의 문법 및 규칙을 공부해야한다. 개념을 공부하는 순간 난이도가 상승된다. 

# User mode와 kernel mode
[[usermode와 Kenel mode.excalidraw]]
==암기== 
![[usermode와 Kenel mode.excalidraw.png]]
- Kernel 모드와 User 모드의 차이는 극명하다. Kernel은 신계 User 모드는 인간계 
- TCP/IP 프로토콜의 interface는 file이라 부르지 않고 socket이라고 부른다. 
- OSI session 위로는 userMode 어플리케이션이다.  즉 프로세스 수준으로 설명이 된다. 프로그램이 가지고 있는 특징이라고 할 수 있다. 
- TCP는 Transport 계층이고 IP는 network 계층이다. 
- NIC은 완벽히 physical 계층이고 driver은 살짝 걸쳐있지만 Data link라고 생각하면 된다. 
- Socket을 여는 주체는 프로세스이다. 이게 정말 중요하다고 하는데 아직 모르겠다. 


# 섹션 1 Internet 기반 네트워크 입문
## OSI 7계층과 식별자
위에 보이는 그림에서 하단부터 위로 하나씩 공부해나가려고 한다. 배우기 전, 알아야하는 것은 식별자이다. 
식별자 : 이름 

L2인 Ethernet의 식별자는 있고, ==MAC 주소==를 의미한다. MAC 주소는 **램카드**에 붙는다. 
L3인 Internet의 식별자는 있고, IP 주소를 의미한다. version이 4가 있고 6가 있는데 4만 다루신다. 인터넷을 사용하는 **컴퓨터**에 붙는다. 그래서 IP 주소는 뭐에 대한 식별자인지 물으면 ==host==에 대한 식별자라고 하면 된다. 
L4인 TCP,UDP의 식별자는 PORT 번호를 의미한다. 크게 세가지의 식별자로 쓰인다.  L2에서는 **인터페이스 식별자**(단자의 식별자) , L3,L4에서는 **서비스의 식별자** , 마지막으로 endPoint관리하는 사람들은 프로그램을 관리하는 사람들은 ==프로세스==의 식별자라고도 한다. 


### 핵심
1. 식별자  : 이더넷 and NIC(H/W) 멕주소  , internet은 IP 주소(호스트), TCP,UDP에서는 프로세스


## Host는 이렇게 외우자 
HOST = Computer와 network가 연결된 상태 
#암기 host란 인터넷에 연결된 컴퓨터!

#암기 HOST는 두가지로 나뉜다.
- End-point : **network 이용 주체**를 end-point라고 한다. 
ex) client(PC) , server(PC), Peer
- Switch : **network 그 자체를 이루는 host를 switch**라고 한다. 
ex) router(L3 스위치의 일종) , IPS(보안스위치) , Tab, Aggregation 스위치(관리 목적 스위치)


## 스위치가 하는 일과 비용

네트워크의 #비유 로 고속도로가 적합하다고 한다. 
- 목적지까지 가려면 교차로에서 경로를 선택해야한다. 
- 근거가 있는 선택을 해야한다. 이게 뭘까? 이정표보고 간다. 
- 목적지에 도착한다. 


자동차 -> 인터넷의 단위: packet
도로망 -> internet
목적지로 가기 위한 교차로 -> L3 switch의 일종인 router , router 마다 표가 있다. 
경로선택 -> interpace를 선택 , switching했다. 
근거(이정표) -> routing table이다.
 
- 스위치 종류
1. L2 switch : mac 주소를 기준으로 
2. L3 switch : ip 주소를 기준
3. L4 switch : port 번호으로 스위치하면 
4. L7 switch : HTTP의 규칙에 근거에 의해 switching하면 L7 switch

- 항상 고민해야 할 주제는 **비용**(메트릭)
교차로에서 비용이 싼 internet으로 swithcing 하는 것은 당연한데 이것을 matric이라고 부른다. 
> **Matric 값** == '비용'





 





# 섹션 2 NIC, L2 Frame, LAN 카드 그리고 MAC주소 
## NIC 
- NIC은 흔히 LAN카드이다
- 유/무선 NIC이 있지만 굳이 구별하지 않고 NIC이라고 할 때가 많다. 
- NIC은 H/W이 며 MAC주소를 갖는다. 

Q. LAN이 뭐지? 
- 네트워크 규모
WAN > MAN > LAN 

- 단위 
인터넷의 단위 : packet
이더넷, L2 수준의 단위 : frame (유통 단위)
-> 크기가 평균적으로 1514바이트 -> 10KB
-> 1Gbps 전송속도를 가지고 있다. 

## L2 스위치
L2 Access switching은 MAC 주소를 근거로 스위칭을 한다. 

단자 하나 
![[스크린샷 2023-04-21 오후 2.40.28.png]]
단자 하나하나도 모두 interface다? PORT다? 24포트 허브(스위치)라고 한다.

#암기 케이블에 연결되면 녹색으로 불이 들어오는데 표현 **link-up**
#암기 케이블에 연결이 안될때 표현 **link-down**
#암기 lan 케이블이 상위 어딘가로 더 큰 L3로 나아가면 up-link라고 한다.

L2 Distribution switch는 쉽게 생각하면 L2 Access 스위치를 위한 스위치. VLAN 기능을 제공하는 것이 일반적이다. 

설명 
- L2 Access switch는 방 
- L2 Distribution switch는 층
- Router은 건물 

![[스크린샷 2023-04-21 오후 2.50.25.png]]
스위치가 올라갈 수록 네트워크 장비의 가격이 비싸진다. 

## LAN과 WAN의 경계 그리고 Broadcast
broadcast 주소  == 방송 주소 
- broadcast는 효율을 떨어뜨린다.  (원치 않은 사람들에게도 모두 들리는 대화 ) (꼭 필요할때만 사용해야한다. )
- unicast가 효율을 높인다. 

### BroadCast 범위를 생각해보자 
- Broadcast 주소라는 특별한 주소가 존재한다. (MAC, IP 모두 존재)
- MAC 주소는 48 비트

Q. 브로드케스팅을 한다는 것이 뭐지??
내 언어로 정리해보기 

#암기 broadcast는 최소화해야한다. 
#암기 보통은 IP 네트워크를 많이 사용하고 있어서 브로드캐스트 는 IP 범위로 제한된다. 

### 네트워크의 규모문제 
S/W는 logical 하고 H/W는 physical하다.

그래서 H/W에 속한 ethernet은 실체가 있는 전자신호와 같은 것들로 설명되곤 한다. 하지만 S/W에 속한 IP, TCP ,UDP 는 논리적으로 설명이 된다. 더 제대로 정의하면 virtual하게 설명된다.  


- 하드웨어를 소프트웨어로 만드는 것을 가상화라고 한다. 
ex) CPU 를 **Virtual** Machine이라고 한다. 

[[네트워크 규모.excalidraw]]
![[네트워크 규모.excalidraw.png]]

# 색션 3 L3 수준에서 외울 것들 
## IPv4 주소의 기본 구조 
![[IP.excalidraw.png]]


L3의 IP 주소 체계
IP는 32비트 (8비트씩 4개로 잘린다. )
네트워크 ID는 서울특별시 광진구 군자동 
HOST ID는 번지수를 말하는 것. 

#비유 인터넷은 고속도로와 택배 체계를 온라인에 접목시키면 완전히 동일하다. 
#비유 역삼동 지역 센터 물건들이 쌓이고 번지수에 맞게 물건들을 알맞게 트럭에 넣는다.

비슷한 번지에 맞는 목적지들을 한데 모으기 위해 네트워크 ID가 사용된다. 
그 이후 Host ID를 통해 정확한 위치에 택배를 보낸다.

## L3 Packet
- Packet이란 L3의 IP 단위 데이터 
- Packet 구성 요소
1. Header : 송장(목적지 )
2. Payload : Content

-> 패킷의 최대 크기는 **MTU** (1500 bytes)
-> 1.4KB
MTU란 maximum transmission unit
#암기 패킷은 1.4KB까지 포함할 수 있는 데이터 


#암기 즉 internet이라는 논리 network에서 데이터의 최대 크기가 1.4KB이라는 것

[[와이어샤크]]는  네트워크를 감청할 수 있게 해준다. 


# 작은 지식 조각
1. LAN에서의 데이터 단위는 Frame
2. Header은 택배의 송장과 같다고 생각하면 된다. 




