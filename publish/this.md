
# **ğŸ‘‰ This**

## **ğŸ™‹â€â™‚ï¸ Thisë€**

ìµœìƒìœ„ì—ì„œëŠ” window ê°ì²´ 
thisëŠ” **ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ë§Œë“¤ì–´ ì§ˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë³€ìˆ˜**ì´ë‹¤. ì´í•´ë¥¼ ìœ„í•´ ë‹¤ìŒ ì½”ë“œë¥¼ ë³´ì

```
const square = {
 Â distance: 5,
 Â getArea() {
 Â  Â return square.distance ** 2;
  },
};

console.log(square.getArea());
```

square ê°ì²´ì˜ getArea ë©”ì†Œë“œëŠ” distanceë¥¼ ì´ìš©í•´ ë„“ì´ë¥¼ ê³„ì‚°í•œë‹¤. ì´ë•Œ ì¤‘ìš”í•œ ê²ƒì€ squareê°€ ê°€ì§€ê³  ìˆëŠ” ì†ì„±ì¸ `distance`ê°’ì´ í•„ìš”í•˜ë‹¤ëŠ” ì ì´ë‹¤. ê°ì²´ë¥¼ ì„ ì–¸í•œ ë³€ìˆ˜ squareë¥¼ ì…ë ¥í•˜ë©´ distanceë¥¼ ì‚¬ìš©í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, í•­ìƒ ê°ì²´ë¥¼ ì„ ì–¸í•œ ì‹ë³„ìë¥¼ ì´ìš©í•œë‹¤ë©´ ì˜¤ì§ squareë¼ëŠ” ì´ë¦„ì˜ ê°ì²´ì—ì„œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•´ ì¬ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ê²Œ ëœë‹¤.

ì´ëŸ¬í•œ ì¬ì‚¬ìš©ì„±ì„ ê³ ë ¤í•´ ê°ì²´ê°€ ì–´ë–»ê²Œ ì„ ì–¸ë˜ëŠ”ì§€ì— ìƒê´€ì—†ì´, ì–´ë–¤ ì´ë¦„ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ ìƒê´€ì—†ì´ **í•­ìƒ ìê¸° ìì‹ ì„ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜**ê°€ ë°”ë¡œ thisë¼ê³  ì´í•´í•  ìˆ˜ ìˆë‹¤.

ìœ„ë¥¼ ê°ì²´ ë¦¬í„°ëŸ´, ìƒì„±ìí•¨ìˆ˜, classë¡œ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

```
const square1 = {
 Â distance: 5,
 Â getArea() {
 Â  Â return this.distance ** 2;
  },
};

function ProtoSquare(distance) {
 Â this.distance = distance;
}
ProtoSquare.prototype.getArea = function () {
 Â return this.distance ** 2;
};

const square2 = new ProtoSquare(5);
console.log(square2.getArea());

class ClassSquare {
 Â constructor(distance) {
 Â  Â this.distance = distance;
  }
 Â getArea() {
 Â  Â return this.distance ** 2;
  }
}

const square3 = new ClassSquare(5);
console.log(square3.getArea());

```

ì´ëŸ¬í•œ thisëŠ” "ì–´ë–»ê²Œ" ê²°ì •ë˜ëŠ” ê±¸ê¹Œ?

## **ğŸ‘ thisê°€ ê²°ì •ë˜ëŠ” ë°©ì‹**

thisëŠ” í•¨ìˆ˜ê°€ ==ì–´ë–»ê²Œ `í˜¸ì¶œë˜ëŠëƒ`ì— ë”°ë¼ ë™ì ==ìœ¼ë¡œ ê²°ì •ë˜ëŠ”ë°, this ë°”ì¸ë”©ì—ëŠ” 4ê°€ì§€ ê·œì¹™ì´ ìˆë‹¤. 4ê°€ì§€ ê·œì¹™ì— ëŒ€í•´ ì•Œì•„ë³´ì.

### **1) ê¸°ë³¸ë°”ì¸ë”©**

ê°ì²´ì˜ ë©”ì†Œë“œë‚˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ ì œì™¸í•œ í•¨ìˆ˜ë“¤, ì¼ë°˜í•¨ìˆ˜ë¡œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisë¥¼ í˜¸ì¶œí•˜ë©´ `ì „ì—­ê°ì²´`ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ì „ì—­ê°ì²´ëŠ” ë¸Œë¼ìš°ì €ëƒ Node.jsëƒì— ë”°ë¼ ê°ê° windowì™€ globalì„ ì˜ë¯¸í•œë‹¤. ë¸Œë¼ìš°ì € ê¸°ì¤€ìœ¼ë¡œ ì „ì—­ê°ì²´ëŠ” windowë¡œ ì„¤ëª…ì„ ì§„í–‰í•˜ë ¤ í•œë‹¤.

```
function hi(){
 Â  Â console.log(this) //window ë˜ëŠ” global
}
hi()
```

ì´ë•Œ ë©”ì†Œë“œ ë‚´ë¶€ ì¤‘ì²© í•¨ìˆ˜ë‚˜ ì½œë°±í•¨ìˆ˜ê°€ ì¼ë°˜í•¨ìˆ˜ë¡œ í˜¸ì¶œë  ê²½ìš°ì—ë„ ë™ì¼í•˜ê²Œ ì „ì—­ ê°ì²´ë¡œ this ë°”ì¸ë”©ì´ ëœë‹¤.

```
var value = 1;

const obj = {
 Â value: 100,
 Â foo() {
 Â  Â setTimeout(function () {
 Â  Â  Â console.log(this);// window
 Â  Â  Â console.log(this.value);// 1
 Â   }, 100);
  },
 Â too() {
 Â  Â function bar() {
 Â  Â  Â console.log(this);// window
 Â  Â  Â console.log(this.value);// 1
 Â   }
 Â  Â bar();
  },
};

var value = 1;

const obj = {
 Â value: 100,
 Â too() {
 Â  Â 'use strict';
 Â  Â function bar() {
 Â  Â  Â console.log(this); // undefined
 Â  Â  Â console.log(this.value); // Uncaught TypeError: Cannot read properties of undefined
 Â   }
 Â  Â bar();
  },
};

obj.too();
```

ì´ë•Œ use strictë¡œ ì—„ê²©ëª¨ë“œë¥¼ ì ìš©í•˜ë©´ ì „ì—­ê°ì²´ëŠ” ê¸°ë³¸ ë°”ì¸ë”©ì—ì„œ ì œì™¸ë˜ì–´ this.valueëŠ” ì—ëŸ¬ë¥¼ ë˜ì§€ê²Œ ëœë‹¤.

### **2) ì•”ì‹œì  ë°”ì¸ë”©**

í˜¸ì¶œí•  ë•Œì˜ ê°ì²´ì˜ ì¡´ì¬ ì—¬ë¶€ì— ë”°ë¼, thisëŠ” ë§Œë“¤ì–´ì§„ ê°ì²´ì— ì†í•´ì§€ì§€ ì•Šê³ , `í˜¸ì¶œí•œ ê°ì²´, ì»¨í…ìŠ¤íŠ¸ ê°ì²´`ì— ë°”ì¸ë”©ëœë‹¤. ì´ê²ƒì„ **ì•”ì‹œì  ë°”ì¸ë”©**ì´ë¼ í•˜ëŠ”ë° ì´í•´ë¥¼ ìœ„í•´ ë‹¤ìŒ ì˜ˆì œë¥¼ ë³´ì.

```
const person = {
 Â name: 'lee',
 Â getName() {
 Â  Â return this.name;
  },
};

console.log(person.getName()); //lee

const anotherPerson = {
 Â name: 'kim',
};

anotherPerson.getName = person.getName;
console.log(anotherPerson.getName()); //kim

const getName = person.getName;
console.log(getName());// window

```

ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´ getNameì´ **í•¨ìˆ˜ê°€ ì‚¬ìš©ë˜ëŠ” ê³³ì— ë”°ë¼ thisê°€ ë‹¬ë¼ì§„ë‹¤**. ê°ì²´ì—ì„œ ì„ ì–¸ëœ thisë¼ë©´ í•´ë‹¹ ê°ì²´ì™€ bindingì´ ë˜ì–´ì•¼ í•˜ì§€ë§Œ, í˜¸ì¶œí•˜ëŠ” ê°ì²´ê°€ ëˆ„êµ¬ëƒì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ê°€ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ëŠ” ë…ë¦½ì ì¸ `ì»¨í…ìŠ¤íŠ¸ ê°ì²´`ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.

```
function foo() {
 Â console.log(this.text);
}

var name = {
 Â text: 'ì˜ì¤€',
 Â foo: foo,
};

var person = {
 Â text: 'ê°€ì˜',
 Â name: name,
};

person.name.foo();// ì˜ì¤€

```

ë§Œì•½ ì¤‘ì²©ëœ ìƒíƒœì—ì„œ í˜¸ì¶œí•˜ê²Œ ëœë‹¤ë©´ ê°€ì¥ ê°€ê¹Œìš´ ê°ì²´, nameì„ ì•”ì‹œì ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ ê°ì²´ë¡œ ë°”ì¸ë”©í•œë‹¤.

ì´ë ‡ê²Œ ì–´ë””ì„œ í˜¸ì¶œí•˜ëƒì— ë”°ë¼ ë‹¬ë¼ì§€ë©´ ì˜ˆì¸¡í•˜ê¸° ì–´ë µê³  ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. this bindingì„ ìš°ë¦¬ê°€ ì •í•˜ëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œ?

### **3) ëª…ì‹œì  ë°”ì¸ë”©**

this bindingì„ ëª…ì‹œì ìœ¼ë¡œ ì •í•´ì£¼ëŠ” ë°©ì‹ì—ëŠ” apply, call, bind ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

### **applyì™€ call**

ë‘ ê°€ì§€ ë©”ì†Œë“œëŠ” ì‚¬ìš© ì‹œ ì „ë‹¬í•œ ê°ì²´ë¥¼ thisì— ë°”ì¸ë”©í•˜ê³ , í˜¸ì¶œí•œë‹¤. ë‘ê°€ì§€ ë©”ì†Œë“œì˜ ì°¨ì´ì ì€ í•¨ìˆ˜ì— ì¸ìë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì— ìˆë‹¤. applyëŠ” ë°°ì—´ë¡œ ì¸ìë¥¼ ì „ë‹¬í•˜ê³  callì€ í•˜ë‚˜ í•˜ë‚˜ì”© ì „ë‹¬í•˜ê³  í˜¸ì¶œí•œë‹¤.

```
function getThisBinding() {
 Â console.log(arguments);
 Â return this;
}

const thisArg = { a: 1 };
console.log(getThisBinding());
console.log(getThisBinding.apply(thisArg, [1, 2, 3])); //[1, 2, 3]
console.log(getThisBinding.call(thisArg, 1, 2, 3));//[1,2,3]

```

### **bind**

bindëŠ” thisë§Œ ë°”ì¸ë”©í•˜ê³  í˜¸ì¶œì€ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì½œë°±í•¨ìˆ˜ë‚˜ ì¤‘ì²©í•¨ìˆ˜ê°€ ì¼ë°˜í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ì—ˆì„ ë•Œ, thisê°€ ë‹¬ë¼ì§€ëŠ” ë¬¸ì œë¥¼ ëª…ì‹œì ìœ¼ë¡œ í•´ê²°í•´ ì¤„ ìˆ˜ ìˆë‹¤.

```
const person = {
 Â name: 'lee',
 Â foo(callback) {
 Â  Â setTimeout(callback.bind(this), 100);
  },
};

person.foo(()=> {
 Â console.log(this.name); //lee
});

```

### **4) new ë°”ì¸ë”©**

ìƒì„±ìí•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœë‹¤.

```
function foo() {
 Â this.name = 'ì˜ì¤€';
 Â this.callName = function () {
 Â  Â console.log(this.name);
  };
}

const bar = {
 Â name: 'ì£¼í¬',
};

const x = new foo();
x.callName.bind(bar);
x.callName();// ì˜ì¤€

```

ìƒì„±ì í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ë§Œë“  x ê°ì²´ì— ëª…ì‹œì  ë°”ì¸ë”©ì¸ bindë¡œ barë¥¼ ë°”ì¸ë”©í•˜ë ¤í–ˆì§€ë§Œ, new ë°”ì¸ë”©ì´ ìš°ì„ ìˆœìœ„ê°€ ë†’ì•„ "ì˜ì¤€"ìœ¼ë¡œ ë‚˜ì˜¨ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

### **ğŸ”¼ ì˜ˆì™¸ì ì¸ ë°”ì¸ë”©: í™”ì‚´í‘œ í•¨ìˆ˜**

ì•ì„œ ì„¤ëª…í•œ this ë°”ì¸ë”©ê³¼ëŠ” ë‹¤ë¥´ê²Œ ì‘ìš©í•œë‹¤.í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ê°€ thisë¥¼ ê°–ì§€ ì•Šì•„ í•¨ìˆ˜ ì„ ì–¸ ì‹œì˜ **ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ë°”ì¸ë”©**í•œë‹¤. í•­ìƒ thisë¥¼ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— callbackí•¨ìˆ˜ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.


```
const foo = {
 Â name: 'ì˜ì¤€',
 Â bar: () => console.log(this.name),
};

foo.bar(); // undefined

const boo = {
 Â name: 'ì˜ì¤€',
 Â far() {
 Â  Â console.log(this.name);
  },
};

boo.far(); //ì˜ì¤€

```

í•˜ì§€ë§Œ ì£¼ì˜í•  ì ì€ ë©”ì†Œë“œë¥¼ í™”ì‚´í‘œí•¨ìˆ˜ë¡œ ë§Œë“¤ê²Œ ë˜ë©´ foo ê°ì²´ê°€ ì•„ë‹ˆë¼ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisì¸ ì „ì—­ê°ì²´ë¥¼ bindingí•˜ê²Œ ëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë©”ì†Œë“œëŠ” ë©”ì†Œë“œ ì¶•ì•½ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²Œ ë‚«ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

## **ë§ˆì¹˜ë©°**

this ë°”ì¸ë”©ì€ ì˜ˆìƒì¹˜ ëª»í•˜ëŠ” ì—ëŸ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê¼­ í•œë²ˆ ì •ë¦¬ë¥¼ í•˜ê³  ë„˜ì–´ê°€ì•¼ í–ˆë‹¤. ì•„ì§ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ì™œ ì „ì—­ê°ì²´ë¥¼ ë°”ì¸ë”©í•˜ëŠ”ì§€ ì˜ ì´í•´ê°€ ë˜ì§€ ì•Šì•„ ìƒì„±ìí•¨ìˆ˜ì™€ prototypeì— ëŒ€í•´ì„œ ì •ë¦¬í•˜ê³  ë‹¤ì‹œí•œë²ˆ í™•ì¸ì„ í•´ë³´ë ¤ê³  í•œë‹¤.


## 4.10 this ì •ë¦¬ 
### ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ìœ¼ë¡œ ìƒì„±í•œ ê°ì²´
ê°ì²´ ë¦¬í„°ëŸ´ ë°©ì‹ìœ¼ë¡œ ìƒì„±í•œ ê°ì²´ëŠ” ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ë©”ì„œë“œ ìì‹ ì´ ì†í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¥¼ ì¬ê·€ì ìœ¼ë¡œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ. 

ìì‹ ì´ ì†í•œ ê°ì²´ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ì°¸ì¡°í•˜ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤ ê·¸ë˜ì„œ ìƒì„±ì í•¨ìˆ˜ì™€ class ë°©ì‹ì„ ì•Œì•„ë³´ì 

### ìƒì„±ì í•¨ìˆ˜ ë°©ì‹
```js
function Circle(radius){
	????.radius = radius;
}

Circle.prototype.getDiameter = function (){
return 2 * ????.radius
}

// ìƒì„±ì í•¨ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ë¨¼ì € ìƒì„±ì í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤. 
```

ìƒì„±ì í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ì‹œì ì—ëŠ” ì•„ì§ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì´ì „ì´ë‹¤. ê·¸ë˜ì„œ ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¥¼ ì•Œ ìˆ˜ê°€ ì—†ëŠ” ë¬¸ì œê°€ ìˆë‹¤. ë”°ë¼ì„œ **ìì‹ ì´ ì†í•œ ê°ì²´** ë˜ëŠ”  **ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¥´í‚¤ëŠ” íŠ¹ìˆ˜í•œ ì‹ë³„ì**ê°€ thisì´ë‹¤

thisëŠ” [[V8 engine]]ì— ì˜í•´ì„œ ì•”ë¬µì ìœ¼ë¡œ ì„±ìƒë˜ê³  ì½”ë“œ ì–´ë””ì„œë“  ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. 

this ë°”ì¸ë”©ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ì˜í•´ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.  -> ë™ì  ìŠ¤ì½”í”„!!?? 
í•¨ìˆ˜ëŠ” ì •ì  ìŠ¤ì½”í”„ë¥¼ ì·¨í•˜ëŠ”ë° ë°˜ëŒ€ ê°œë… ì°¾ì•˜ë‹¤.

```js
function Circle(radius){
	this.radius = radius;
}

Circle.prototype.getDiameter = function (){
return 2 * this.radius
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const circle = new Circle(5);
console.log(circle.getDiameter()) // 10
```

ìë°”ë‚˜ C++ì€ this bindingì´ í•­ìƒ í´ë˜ìŠ¤ê°€ ìƒì„±í•˜ëŠ” instanceë¥¼ ê°€ë¦¬í‚¤ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¼ thisê°€ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤. 

ì „ì—­ : window ê°ì²´
ì¼ë°˜ í•¨ìˆ˜ ìŠ¤ì½”í”„ : window ê°ì²´ 
ê°ì²´ì˜ ë§¤ì†Œë“œ ìŠ¤ì½”í”„ : í•´ë‹¹ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 
ìƒì„±ì í•¨ìˆ˜ : ë§Œë“¤ì–´ì§ˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 

[[strict mode]]ì—ì„œëŠ” ì¼ë°˜ í•¨ìˆ˜ ë‚´ë¶€ì˜ Thisì— windowê°€ ëœ¨ì§€ ì•Šê³  undefinedê°€ ë°”ì¸ë”©ëœë‹¤. 

[[í•¨ìˆ˜ in js]]ì˜ ìŠ¤ì½”í”„ ê²°ì • ë°©ì‹ì€ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„(ì •ì  ìŠ¤ì½”í”„)ì´ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ thisê°’ì´ ë°”ì¸ë”©ë˜ëŠ” ë°©ì‹ì€ ë™ì  ìŠ¤ì½”í”„ë¥¼ ì·¨í•˜ê³  ìˆë‹¤. ì¦‰ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¼ this ê°’ì´ í• ë‹¹ëœë‹¤ëŠ” ê²ƒ.

### ë‹¤ì–‘í•œ í•¨ìˆ˜ í˜¸ì¶œ ìœ„ì¹˜ 
1. ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ
2. ë©”ì„œë“œ í˜¸ì¶œ
3. ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
4. í”„ë¡œí† íƒ€ì…ì„ í™œìš©í•œ ê°„ì ‘ í˜¸ì¶œ

```js
const foo = function () {
	console.dir(this);
};

// 1. ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ
foo(); // window

const obj = {
	foo,
};

// 2. ë©”ì„œë“œ í˜¸ì¶œ
 obj.foo(); // obj


// 3. ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
new foo(); //foo {}


// 4.í”„ë¡œí† íƒ€ì…ì„ í™œìš©í•œ ê°„ì ‘ í˜¸ì¶œ



```

#### ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ 
ê¸°ë³¸ì ìœ¼ë¡œ thisì—ëŠ” ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”©ëœë‹¤. ì‰½ê²Œ ì •ë¦¬í•´ë³´ë©´ ì¼ë°˜í•¨ìˆ˜ê°€ ì½œë°± í•¨ìˆ˜ë¡œ í˜¸ì¶œì´ ë˜ê±´ ë§¤ì†Œë“œ ì•ˆì—ì„œ ì¼ë°˜í•¨ìˆ˜ë¡œ í˜¸ì¶œì´ ë˜ê±´ ëª¨ë‘ thisëŠ” ì „ì—­ì„ ê°€ë¦¬í‚¨ë‹¤. ì´ê²Œ ë¬¸ì œë‹¤. 

```js
var value = 1;

const obj = {
	value: 100,
	foo() {
		console.log("fooThis", this);
		setTimeout(function () {
			console.log("callbackThis", this);
			console.log("callbackThis", this.value);
		}, 100);
	},
};

obj.foo();
```

##### í•´ê²° 1 í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ Thisê°’ì„ ë³€ìˆ˜ì— ë‹´ì•„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

```js
var value = 1;

const obj = {
	value: 100,
	const that = this
	foo() {
		console.log("fooThis", this);
		setTimeout(function () {
			console.log("callbackThis", this.value); // 100
		}, 100);
	},
};

obj.foo();
```


##### í•´ê²° 2 bindë¥¼ í™œìš©í•œ ëª…ì‹œì  ë°”ì¸ë”©
```js
var value = 1;

const obj = {
	value: 100,
	foo() {
		console.log("fooThis", this);
		setTimeout(function () {
			console.log("callbackThis", this.value); // 100
		}.bind(this), 100);
	},
};

obj.foo();
```

##### í•´ê²° 3 arrow functionì„ í™œìš©í•˜ì—¬ this ë°”ì¸ë”©
```js
var value = 1;

const obj = {
	value: 100,
	foo() {
		console.log("fooThis", this);
		setTimeout(() => console.log("callbackThis", this.value), 100);
	},
};

obj.foo();

```

#### ë©”ì„œë“œ í˜¸ì¶œ 
#### ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ 
ìƒì„±ì í•¨ìˆ˜ì˜ ë‚´ë¶€ì˜ thisì—ëŠ” ì¶”í›„ì— ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœë‹¤. 

#### í”„ë¡œí† íƒ€ì… ë§¤ì†Œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ
.apply .call .bindëŠ” ëª¨ë“  í•¨ìˆ˜ê°€ ìƒì†ë°›ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

- apply ì™€ call íŠ¹ì„±
-> ==ë³¸ì§ˆì ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.== 
-> ë‘ê°œì˜ ì°¨ì´ëŠ” í˜¸ì¶œí•  í•¨ìˆ˜ì— **ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹**ë§Œ ë‹¤ë¥´ë‹¤. 
-> applyëŠ” ë¦¬ìŠ¤íŠ¸ì˜ í˜•íƒœë¡œ callì€ ì‰¼í‘œë¡œ ë‚˜ëˆ  ì¸ìë¥¼ ì „ë‹¬í•œë‹¤.
```js
console.log(getThisBinding.apply(thisArg, [1, 2, 3]));
console.log(getThisBinding.call(thisArg, 1, 2, 3));
```

- bind íŠ¹ì„±
-> ==í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.==  ë‹¤ë§Œ ì²«ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ ê°’ìœ¼ë¡œ this ë°”ì¸ë”©ì´ êµì²´ëœ í•¨ìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤. 
```js
console.log(getThisBinding.bind(thisArg)); // getThisBinding
console.log(getThisBinding.bind(thisArg)()); // {a :1}
```


```js

const person = {
	name: "lee",
	foo(callback) {
		setTimeout(callback, 100);
	},
};

person.foo(function () {
	console.log(`Hi my name is ${this.name}`); // undefined
});


const person = {
	name: "lee",
	foo(callback) {
		setTimeout(callback.bind(this), 100);
	},
};

person.foo(function () {
	console.log(`Hi my name is ${this.name}`); // lee
});

```


![[ìŠ¤í¬ë¦°ìƒ· 2023-04-10 ì˜¤í›„ 5.27.49.png]]