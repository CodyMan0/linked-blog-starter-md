
출처 : 모던 자바스크립트 
저자 :
URL : 
1. https://ko.javascript.info/event-loop
2. https://chanmi-lee.github.io/articles/2020-06/JavaScript-Visualized-Event-Loop
3. [Velog 블로그](https://velog.io/@yejineee/%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EC%99%80-%ED%83%9C%EC%8A%A4%ED%81%AC-%ED%81%90-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C-%ED%83%9C%EC%8A%A4%ED%81%AC-%EB%A7%A4%ED%81%AC%EB%A1%9C-%ED%83%9C%EC%8A%A4%ED%81%AC-g6f0joxx)
인용 : 

# 위치
**브라우저에 내장**되어있는 기능

한마디 정리  : 
이벤트 루프는 콜 스택을 모니터하고 태스크 큐에서 수행할 작업이 있는지 확인하는 단일 스레드 루프입니다. 콜 스택이 비어 있고 태스크 큐에 콜백 함수가 있는 경우, 함수는 큐에서 제거되고 실행될 콜 스택으로 푸시됩니다.


# 왜?
왜 필요?  자바스크립트는 싱글 스레드 기반의 언어지만, **자바스크립트가 구동되는 환경(Node.js, 브라우저)은 여러 스레드가 사용**된다. **여러 스레드가사용되는 구동 환경이 자바스크립트 엔진과 연동하기 위해 사용되는 장치가 '이벤트 루프'** 이다. [[메인 스레드 역할]]

[[OS Moc]]와 비슷하다고 느껴진다.

# 모던 자바스크립트 
-   **자바스크립트 엔진**  
    - [[Heap]] : 객체들은 힙 메모리에 할당된다. 크기가 동적으로 변하는 값들의 참조 값을 갖고 있다.
    - [[call stack]] : 함수 호출 시, 실행 컨텍스트가 생성되며, 이러한 [[Execution Context]]들이 콜 스택을 구성한다.
-   **Web API or Browser API**  
    - 웹 브라우저에 구현된 API이다.  
    - DOM event, [[AJAX]], Timer 등이 있다.
-   **이벤트 루프**  
    - 콜 스택이 비었다면, 태스크 큐에 있는 콜백 함수를 처리한다.
-   **태스크 큐**  
    - 이벤트 루프는 하나 이상의 태스크 큐를 갖는다.  
    - 태스크 큐는 **태스크의 Set**이다.  
    - 이벤트 루프가 큐의 첫 번째 태스크를 가져오는 것이 아니라, 태스크 큐에서 실행 가능한(runnable) 첫 번째 태스크를 가져오는 것이다. 태스크 중에서 가장 오래된 태스크를 가져온다. 

브라우저와 Node.js에서 공통으로 제공하는 것이 **이벤트 루프**  [[웹 브라우저와 노드의 차이]]는 제공해주는 



```
let g = 0 ; 
setTimeout(() => {g = 100;} , 0)
console.log(g) // 0일까 100일까?
```

![[비동기이해.excalidraw.png]]


### 생각의 연결고리
분야 :

키워드 :

관련있는 메모 :
